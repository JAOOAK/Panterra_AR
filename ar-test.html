<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>‡∏ó‡∏î‡∏™‡∏≠‡∏ö AR ‡∏ß‡∏≤‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏¥‡πâ‡∏ô</title>
  
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <style>
    /* ‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á AR */
    .ui-container {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999;
      display: flex;
      gap: 15px;
      background: rgba(255, 255, 255, 0.8);
      padding: 15px;
      border-radius: 20px;
      backdrop-filter: blur(10px);
    }
    .btn {
      padding: 10px 20px;
      background: #5d4037;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-family: 'Kanit', sans-serif;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .btn:hover { background: #8d6e63; }
    
    /* ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤ VR (‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡πà AR) */
    .a-enter-vr { display: none !important; }
  </style>

  <script>
    // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ä‡∏¥‡πâ‡∏ô‡πÑ‡∏´‡∏ô‡∏≠‡∏¢‡∏π‡πà
    let currentModel = '#model-sofa'; 

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á
    function selectModel(modelId) {
      currentModel = modelId;
      alert("‚úÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏•‡πâ‡∏ß! ‡πÉ‡∏´‡πâ‡∏™‡πà‡∏≠‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏£‡∏≤‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö");
    }

    // ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö "‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡∏Ç‡∏≠‡∏á" (Tap to place)
    AFRAME.registerComponent('tap-place', {
      init: function () {
        const reticle = document.getElementById('reticle'); // ‡πÄ‡∏õ‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏á
        const sceneEl = this.el;

        // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏¥‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
        sceneEl.addEventListener('select', (event) => {
          // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏á‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è (‡∏¢‡∏±‡∏á‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠) ‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
          if (!reticle.getAttribute('visible')) return;

          // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏ô‡∏¥‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ä‡∏¥‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
          const newFurniture = document.createElement('a-entity');
          newFurniture.setAttribute('gltf-model', currentModel); // ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ
          newFurniture.setAttribute('position', reticle.getAttribute('position')); // ‡∏ß‡∏≤‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏á
          newFurniture.setAttribute('scale', '1 1 1'); // ‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏°‡πÄ‡∏î‡∏• (‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏Å/‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏õ)
          newFurniture.setAttribute('shadow', 'receive: true; cast: true');

          // ‡∏à‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏•‡∏á‡πÉ‡∏ô‡∏â‡∏≤‡∏Å AR
          sceneEl.appendChild(newFurniture);
        });
      }
    });
  </script>
</head>
<body>

  <div class="ui-container">
    <button class="btn" onclick="selectModel('#model-sofa')">‡∏ß‡∏≤‡∏á‡πÇ‡∏ã‡∏ü‡∏≤ üõãÔ∏è</button>
    <button class="btn" onclick="selectModel('#model-table')">‡∏ß‡∏≤‡∏á‡πÇ‡∏ï‡πä‡∏∞ ü™µ</button>
  </div>

  <a-scene tap-place webxr="optionalFeatures: hit-test, local-floor;" ar-hit-test="target:#reticle;">
    
    <a-assets>
      <a-asset-item id="model-sofa" src="assets/models/sofa.glb"></a-asset-item>
      <a-asset-item id="model-table" src="assets/models/table_ronde.glb"></a-asset-item>
    </a-assets>

    <a-camera position="0 1.6 0"></a-camera>

    <a-entity id="reticle" visible="false">
      <a-ring color="#4CAF50" radius-inner="0.1" radius-outer="0.15" rotation="-90 0 0"></a-ring>
    </a-entity>

    <a-light type="ambient" color="#ffffff" intensity="0.6"></a-light>
    <a-light type="directional" color="#ffffff" intensity="0.8" position="1 2 1"></a-light>

  </a-scene>

</body>
</html>